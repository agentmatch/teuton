/* Comprehensive mobile navigation fix for all devices */

/* Reset body positioning on mobile */
@media (max-width: 767px) {
  body {
    position: relative !important;
    overflow: visible !important;
    height: auto !important;
    width: auto !important;
  }
  
  html {
    overflow: visible !important;
    height: auto !important;
  }
}

/* Fix for iOS Safari and other mobile browsers */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .fixed.bottom-0 {
    padding-bottom: env(safe-area-inset-bottom, 0px) !important;
  }
}

/* Force mobile navigation to be visible on all mobile devices */
@media (max-width: 767px) {
  /* Target the SimpleMobileNav component */
  div[class*="fixed"][class*="bottom-0"][class*="z-\\[100005\\]"],
  div[style*="position: fixed"][style*="bottom: 0"],
  .fixed.bottom-0.left-0.right-0.z-\\[100005\\] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    transform: translateY(0) !important;
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 100005 !important;
    pointer-events: auto !important;
  }
  
  /* Ensure the nav element inside is also visible */
  div[class*="fixed"][class*="bottom-0"] nav,
  .fixed.bottom-0 nav {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Add padding to the body to prevent content overlap */
  body {
    padding-bottom: calc(64px + env(safe-area-inset-bottom, 0px)) !important;
  }
  
  /* Fix for Android devices where navigation might be cut off */
  html {
    height: 100%;
    overflow: hidden;
  }
  
  body {
    height: 100%;
    overflow: hidden;
    position: fixed;
    width: 100%;
  }
  
  /* Ensure the main content doesn't overflow */
  main {
    height: calc(100vh - 64px - env(safe-area-inset-bottom, 0px));
    overflow: hidden;
  }
}

/* Additional targeting for touch devices */
@media (hover: none) and (pointer: coarse) {
  div[class*="fixed"][class*="bottom-0"][class*="z-\\[100005\\]"],
  .fixed.bottom-0.left-0.right-0.z-\\[100005\\] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    transform: translateY(0) !important;
    bottom: 0 !important;
    position: fixed !important;
  }
}

/* iPhone specific fixes */
@supports (-webkit-touch-callout: none) {
  .fixed.bottom-0 {
    padding-bottom: env(safe-area-inset-bottom, 20px) !important;
  }
  
  /* Fix for iPhone notch and home indicator */
  @media (max-width: 767px) {
    div[class*="fixed"][class*="bottom-0"] {
      padding-bottom: max(env(safe-area-inset-bottom, 0px), 20px) !important;
      bottom: 0 !important;
      transform: translateY(0) !important;
    }
  }
}

/* Android specific fixes */
@media (max-width: 767px) and (-webkit-min-device-pixel-ratio: 2) {
  .fixed.bottom-0 {
    bottom: 0 !important;
    transform: translateY(0) !important;
  }
}

/* Fix for navigation being cut off on Android */
@media (max-width: 767px) {
  /* Reset any transforms that might push navigation off-screen */
  * {
    transform-style: flat !important;
  }
  
  /* Ensure navigation container has proper height */
  div[style*="minHeight: '64px'"] {
    min-height: 64px !important;
    height: auto !important;
  }
}